<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
      <a class="navbar-brand ml-2" href="#">Img</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item" [ngClass]="mode == 'all' ? 'active' : ''">
            <a class="nav-link pointer" (click)="modeChanged('all')">Home</a>
          </li>
          <li class="nav-item" [ngClass]="mode == 'flagged' ? 'active' : ''">
            <a class="nav-link pointer" (click)="modeChanged('flagged')">Flagged</a>
          </li>
          <li class="nav-item" [ngClass]="mode == 'ranked' ? 'active' : ''">
            <a class="nav-link pointer" (click)="modeChanged('ranked')">Ranked</a>
          </li>
        </ul>
      </div>
  </div>
</nav>
<div *ngIf="!showingIFrame" class="container-fluid mt-2">

  <div class="card mt-4" *ngFor="let post of posts;">
    <div class="card-header" [style.background-color]="post.rank > 0 || post.flagged ? '#00AA9E' : '#FFFFFF'">
      <h4 class="my-0">{{ post.title }}</h4>
      <span class="badge badge-secondary">Catigory: {{ getCategory(post.category) }}</span>
      <span class="badge ml-2" [ngClass]="getRankTheme(post.rank)">Rank: {{ getRankName(post.rank) }}</span>
      <span class="badge ml-2" [ngClass]="post.flagged ? 'badge-danger' : 'badge-secondary'">{{ post.flagged ? 'Flagged' : 'No flag' }}</span>
      <a class="ml-3" target="_blank" href="{{ post.attachment }}">Torrent</a>
      <a class="ml-3" target="_blank" href="{{ post.url }}">View Original</a>
    </div>
    <div class="card-body">
      <div class="row">
        <!-- <div class="col-2 mt-2 img-container" *ngFor="let imgName of post.imageNames;">
          <img class="aspect-fill" src="{{ 'http://localhost:8080/tools/images/' + post.id + '/' + imgName}}"
          (click)="openPreview('http://localhost:8080/tools/images/' + post.id + '/' + imgName)">
        </div> -->
      </div>
    </div>
  </div>

  <div class="row">
    <div *ngIf="posts == null || posts.length == 0" class="col-12 text-center mt-4">
      <p class="lead">
        No more posts found
      </p>
    </div>
    <div class="col-12 text-center my-4">
      <button type="button" class="btn btn-primary" (click)="nextBtnClicked()" [disabled]="loadingNextPage">
        {{ loadingNextPage ? 'Loading' : 'Next Page' }}
      </button>
    </div>
  </div>

</div>

<div *ngIf="showingIFrame" class="container-fluid mt-2">
  <div class="row mt-4 justify-content-center">
    <div class="col-4 mt-4">
      <form>
        <div class="form-group">
          <label for="exampleInputEmail1">Email address</label>
          <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
          <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
        </div>
        <div class="form-group">
          <label for="exampleInputPassword1">Password</label>
          <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
        </div>
        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="exampleCheck1">
          <label class="form-check-label" for="exampleCheck1">Check me out</label>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>
  </div>
</div>

<button id="s8ShowPreviewButton" [hidden]="true" data-toggle="modal" data-target="#s8ImgPreview"></button>
<button id="s8HidePreviewButton" [hidden]="true" data-toggle="modal" data-target="#s8ImgPreview" data-dismiss="modal"></button>
<div id="s8ImgPreview" class="modal fade bd-example-modal-xl">
  <div class="modal-dialog modal-xl" (click)="closePreview()">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalCenterTitle">Preview</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
	  
	  <div class="modal-body">
      <img class="aspect-fill" src="{{ previewedImgSrc }}">
	  </div>
	  
    </div>
  </div>
</div>
  